// src/database.ts
import { openDB, DBSchema, IDBPDatabase } from 'idb';
import { Sutra } from './types';

// Initial sutras data (migrated from db.ts)
const INITIAL_SUTRAS: Omit<Sutra, 'id'>[] = [
  {
    title: '般若波羅蜜多心經',
    translator: '唐·玄奘法師 譯',
    word_count: 260,
    content_full: '觀自在菩薩，行深般若波羅蜜多時，照見五蘊皆空，度一切苦厄。舍利子，色不異空，空不異色，色即是空，空即是色，受想行識，亦復如是。舍利子，是諸法空相，不生不滅，不垢不淨，不增不減。是故空中無色，無受想行識，無眼耳鼻舌身意，無色聲香味觸法，無眼界，乃至無意識界。無無明，亦無無明盡，乃至無老死，亦無老死盡。無苦集滅道，無智亦無得。以無所得故，菩提薩埵，依般若波羅蜜多故，心無罣礙，無罣礙故，無有恐怖，遠離顛倒夢想，究竟涅槃。三世諸佛，依般若波羅蜜多故，得阿耨多羅三藐三菩提。故知般若波羅蜜多，是大神咒，是大明咒，是無上咒，是無等等咒，能除一切苦，真實不虛。故說般若波羅蜜多咒，即說咒曰：揭諦揭諦，波羅揭諦，波羅僧揭諦，菩提薩婆訶。',
    description: '《心經》是佛教大乘教典中，文字最短少，詮理最深奧微妙的經典。'
  },
  {
    title: '大悲咒',
    translator: '唐·伽梵達摩 譯',
    word_count: 415,
    content_full: '南無喝囉怛那哆囉夜耶。南無阿唎耶。婆盧羯帝爍缽囉耶。菩提薩埵婆耶。摩訶薩埵婆耶。摩訶迦盧尼迦耶。唵。薩皤囉罰曳。數怛那怛寫。南無悉吉栗埵伊蒙阿唎耶。婆盧吉帝室佛囉楞馱婆。南無那囉謹墀。醯利摩訶皤哆沙咩。薩婆阿他豆輸朋。阿逝孕。薩婆薩哆那摩婆薩哆那摩婆伽。摩罰特豆。怛姪他。唵。阿婆盧醯。盧迦帝。迦羅帝。夷醯唎。摩訶菩提薩埵。薩婆薩婆。摩囉摩囉。摩醯摩醯唎馱孕。俱盧俱盧羯蒙。度盧度盧罰闍耶帝。摩訶罰闍耶帝。陀囉陀囉。地唎尼。室佛囉耶。遮囉遮囉。摩摩罰摩囉。穆帝隸。伊醯伊醯。室那室那。阿囉參佛囉舍利。罰沙罰參。佛囉舍耶。呼嚧呼嚧摩囉。呼嚧呼嚧醯利。娑囉娑囉。悉唎悉唎。蘇嚧蘇嚧。菩提夜菩提夜。菩馱夜菩馱夜。彌帝唎夜。那囉謹墀。地利瑟尼那。波夜摩那。娑婆訶。悉陀夜。娑婆訶。摩訶悉陀夜。娑婆訶。悉陀喻藝。室皤囉耶。娑婆訶。那囉謹墀。娑婆訶。摩囉那囉。娑婆訶。悉囉僧阿穆佉耶。娑婆訶。娑婆摩訶阿悉陀夜。娑婆訶。者吉囉阿悉陀夜。娑婆訶。波陀摩羯悉陀夜。娑婆訶。那囉謹墀皤伽囉耶。娑婆訶。摩婆利勝羯囉夜。娑婆訶。南無喝囉怛那哆囉夜耶。南無阿唎耶。婆盧吉帝。爍皤囉夜。娑婆訶。唵。悉殿都。漫多囉。跋陀耶。娑婆訶。',
    description: '《大悲咒》是觀世音菩薩的大慈悲心，無上菩提心，以及濟世渡人，修道成佛的重要口訣。'
  },
  {
    title: '金剛般若波羅蜜經',
    translator: '姚秦·鳩摩羅什 譯',
    word_count: 5176,
    content_full: '如是我聞。一時佛在舍衛國。祇樹給孤獨園。與大比丘眾。千二百五十人俱。爾時世尊。食時。著衣持缽。入舍衛大城乞食。於其城中。次第乞已。還至本處。飯食訖。收衣缽。洗足已。敷座而坐。時長老須菩提。在大眾中。即從座起。偏袒右肩。右膝著地。合掌恭敬。而白佛言。希有世尊。如來善護念諸菩薩。善付囑諸菩薩。世尊。善男子。善女人。發阿耨多羅三藐三菩提心。應云何住。云何降伏其心。佛言。善哉善哉。須菩提。如汝所說。如來善護念諸菩薩。善付囑諸菩薩。汝今諦聽。當為汝說。善男子。善女人。發阿耨多羅三藐三菩提心。應如是住。如是降伏其心。唯然。世尊。願樂欲聞。佛告須菩提。諸菩薩摩訶薩。應如是降伏其心。所有一切眾生之類。若卵生。若胎生。若濕生。若化生。若有色。若無色。若有想。若無想。若非有想。非無想。我皆令入無餘涅槃而滅度之。如是滅度無量無數無邊眾生。實無眾生得滅度者。何以故。須菩提。若菩薩有我相。人相。眾生相。壽者相。即非菩薩。復次。須菩提。菩薩於法。應無所住行於布施。所謂不住色布施。不住聲香味觸法布施。須菩提。菩薩應如是布施。不住於相。何以故。若菩薩不住相布施。其福德不可思量。須菩提。於意云何。東方虛空可思量不。不也。世尊。須菩提。南西北方。四維上下。虛空可思量不。不也。世尊。須菩提。菩薩無住相布施。福德亦復如是。不可思量。須菩提。菩薩但應如所教住。須菩提。於意云何。可以身相見如來不。不也。世尊。不可以身相得見如來。何以故。如來所說身相。即非身相。佛告須菩提。凡所有相。皆是虛妄。若見諸相非相。即見如來。須菩提白佛言。世尊。頗有眾生。得聞如是言說章句。生實信不。佛告須菩提。莫作是說。如來滅後。後五百歲。有持戒修福者。於此章句。能生信心。以此為實。當知是人。不於一佛二佛三四五佛而種善根。已於無量千萬佛所種諸善根。聞是章句。乃至一念生淨信者。須菩提。如來悉知悉見。是諸眾生。得如是無量福德。何以故。是諸眾生。無復我相。人相。眾生相。壽者相。無法相。亦無非法相。何以故。是諸眾生。若心取相。即為著我人眾生壽者。若取法相。即著我人眾生壽者。何以故。若取非法相。即著我人眾生壽者。是故不應取法。不應取非法。以是義故。如來常說。汝等比丘。知我說法。如筏喻者。法尚應捨。何況非法。須菩提。於意云何。如來得阿耨多羅三藐三菩提耶。如來有所說法耶。須菩提言。如我解佛所說義。無有定法。名阿耨多羅三藐三菩提。亦無有定法。如來可說。何以故。如來所說法。皆不可取。不可說。非法非非法。所以者何。一切賢聖。皆以無為法。而有差別。須菩提。於意云何。若人滿三千大千世界七寶。以用布施。是人所得福德。寧為多不。須菩提言。甚多。世尊。何以故。是福德。即非福德性。是故如來說福德多。若復有人。於此經中。受持乃至四句偈等。為他人說。其福勝彼。何以故。須菩提。一切諸佛。及諸佛阿耨多羅三藐三菩提法。皆從此經出。須菩提。所謂佛法者。即非佛法。須菩提。於意云何。須陀洹。能作是念。我得須陀洹果不。須菩提言。不也。世尊。何以故。須陀洹。名為入流。而無所入。不入色聲香味觸法。是名須陀洹。須菩提。於意云何。斯陀含。能作是念。我得斯陀含果不。須菩提言。不也。世尊。何以故。斯陀含。名一往來。而實無往來。是名斯陀含。須菩提。於意云何。阿那含。能作是念。我得阿那含果不。須菩提言。不也。世尊。何以故。阿那含。名為不來。而實無不來。是故名阿那含。須菩提。於意云何。阿羅漢。能作是念。我得阿羅漢道不。須菩提言。不也。世尊。何以故。實無有法。名阿羅漢。世尊。若阿羅漢作是念。我得阿羅漢道。即為著我人眾生壽者。世尊。佛說我得無諍三昧。人中最為第一。是第一離欲阿羅漢。世尊。我不作是念。我是離欲阿羅漢。世尊。我若作是念。我得阿羅漢道。世尊則不說須菩提。是樂阿蘭那行者。以須菩提實無所行。而名須菩提。是樂阿蘭那行。佛告須菩提。於意云何。如來昔在然燈佛所。於法有所得不。不也。世尊。如來在然燈佛所。於法實無所得。須菩提。於意云何。菩薩莊嚴佛土不。不也。世尊。何以故。莊嚴佛土者。即非莊嚴。是名莊嚴。是故須菩提。諸菩薩摩訶薩。應如是生清淨心。不應住色生心。不應住聲香味觸法生心。應無所住。而生其心。須菩提。譬如有人。身如須彌山王。於意云何。是身為大不。須菩提言。甚大。世尊。何以故。佛說非身。是名大身。須菩提。如恆河中所有沙數。如是沙等恆河。於意云何。是諸恆河沙。寧為多不。須菩提言。甚多。世尊。但諸恆河尚多無數。何況其沙。須菩提。我今實言告汝。若有善男子。善女人。以七寶滿爾所恆河沙數三千大千世界。以用布施。得福多不。須菩提言。甚多。世尊。佛告須菩提。若善男子。善女人。於此經中。乃至受持四句偈等。為他人說。而此福德。勝前福德。復次。須菩提。隨說是經。乃至四句偈等。當知此處。一切世間天人阿修羅。皆應供養。如佛塔廟。何況有人。盡能受持讀誦。須菩提。當知是人。成就最上第一希有之法。若是經典所在之處。即為有佛。若尊重弟子。爾時須菩提白佛言。世尊。當何名此經。我等云何奉持。佛告須菩提。是經名為金剛般若波羅蜜。以是名字。汝當奉持。所以者何。須菩提。佛說般若波羅蜜。即非般若波羅蜜。是名般若波羅蜜。須菩提。於意云何。如來有所說法不。須菩提白佛言。世尊。如來無所說。須菩提。於意云何。三千大千世界所有微塵。是為多不。須菩提言。甚多。世尊。須菩提。諸微塵。如來說非微塵。是名微塵。如來說世界。非世界。是名世界。須菩提。於意云何。可以三十二相見如來不。不也。世尊。不可以三十二相得見如來。何以故。如來說三十二相。即是非相。是名三十二相。須菩提。若有善男子。善女人。以恆河沙等身命布施。若復有人。於此經中。乃至受持四句偈等。為他人說。其福甚多。爾時須菩提。聞說是經。深解義趣。涕淚悲泣。而白佛言。希有世尊。佛說如是甚深經典。我從昔來所得慧眼。未曾得聞如是之經。世尊。若復有人。得聞是經。信心清淨。即生實相。當知是人。成就第一希有功德。世尊。是實相者。即是非相。是故如來說名實相。世尊。我今得聞如是經典。信解受持。不足為難。若當來世。後五百歲。其有眾生。得聞是經。信解受持。是人即為第一希有。何以故。此人無我相。無人相。無眾生相。無壽者相。所以者何。我相即是非相。人相眾生相壽者相。即是非相。何以故。離一切諸相。即名諸佛。佛告須菩提。如是如是。若復有人。得聞是經。不驚不怖不畏。當知是人。甚為希有。何以故。須菩提。如來說第一波羅蜜。即非第一波羅蜜。是名第一波羅蜜。須菩提。忍辱波羅蜜。如來說非忍辱波羅蜜。是名忍辱波羅蜜。何以故。須菩提。如我昔為歌利王割截身體。我於爾時。無我相。無人相。無眾生相。無壽者相。何以故。我於往昔節節支解時。若有我相人相眾生相壽者相。應生瞋恨。須菩提。又念過去於五百世。作忍辱仙人。於爾所世。無我相。無人相。無眾生相。無壽者相。是故須菩提。菩薩應離一切相。發阿耨多羅三藐三菩提心。不應住色生心。不應住聲香味觸法生心。應生無所住心。若心有住。即為非住。是故佛說菩薩心。不應住色布施。須菩提。菩薩為利益一切眾生故。應如是布施。如來說一切諸相。即是非相。又說一切眾生。即非眾生。須菩提。如來是真語者。實語者。如語者。不誑語者。不異語者。須菩提。如來所得法。此法無實無虛。須菩提。若菩薩心。住於法而行布施。如人入闇。即無所見。若菩薩心。不住法而行布施。如人有目。日光明照。見種種色。須菩提。當來之世。若有善男子。善女人。能於此經受持讀誦。即為如來。以佛智慧。悉知是人。悉見是人。皆得成就無量無邊功德。須菩提。若有善男子。善女人。初日分以恆河沙等身布施。中日分復以恆河沙等身布施。後日分亦以恆河沙等身布施。如是無量百千萬億劫。以身布施。若復有人。聞此經典。信心不逆。其福勝彼。何況書寫受持讀誦。為人解說。須菩提。以要言之。是經有不可思議。不可稱量。無邊功德。如來為發大乘者說。為發最上乘者說。若有人能受持讀誦。廣為人說。如來悉知是人。悉見是人。皆得成就不可量。不可稱。無有邊。不可思議功德。如是人等。即為荷擔如來阿耨多羅三藐三菩提。何以故。須菩提。若樂小法者。著我見人見眾生見壽者見。即於此經。不能聽受讀誦。為人解說。須菩提。在在處處。若有此經。一切世間天人阿修羅。所應供養。當知此處。即為是塔。皆應恭敬。作禮圍繞。以諸華香而散其處。復次。須菩提。若善男子。善女人。受持讀誦此經。若為人輕賤。是人先世罪業。應墮惡道。以今世人輕賤故。先世罪業即為消滅。當得阿耨多羅三藐三菩提。須菩提。我念過去無量阿僧祇劫。於然燈佛前。得值八百四千萬億那由他諸佛。悉皆供養承事。無空過者。若復有人。於後末世。能受持讀誦此經。所得功德。於我所供養諸佛功德。百分不及一。千萬億分。乃至算數譬喻所不能及。須菩提。若善男子。善女人。於後末世。有受持讀誦此經。所得功德。我若具說者。或有人聞。心即狂亂。狐疑不信。須菩提。當知是經義。不可思議。果報亦不可思議。爾時須菩提白佛言。世尊。善男子。善女人。發阿耨多羅三藐三菩提心。云何應住。云何降伏其心。佛告須菩提。善男子。善女人。發阿耨多羅三藐三菩提心者。當生如是心。我應滅度一切眾生。滅度一切眾生已。而無有一眾生實滅度者。何以故。須菩提。若菩薩有我相人相眾生相壽者相。即非菩薩。所以者何。須菩提。實無有法。發阿耨多羅三藐三菩提心者。須菩提。於意云何。如來於然燈佛所。有法得阿耨多羅三藐三菩提不。不也。世尊。如我解佛所說義。佛於然燈佛所。無有法得阿耨多羅三藐三菩提。佛言。如是如是。須菩提。實無有法。如來得阿耨多羅三藐三菩提。須菩提。若有法。如來得阿耨多羅三藐三菩提者。然燈佛即不與我授記。汝於來世。當得作佛。號釋迦牟尼。以實無有法。得阿耨多羅三藐三菩提。是故然燈佛與我授記。作是言。汝於來世。當得作佛。號釋迦牟尼。何以故。如來者。即諸法如義。若有人言。如來得阿耨多羅三藐三菩提。須菩提。實無有法。佛得阿耨多羅三藐三菩提。須菩提。如來所得阿耨多羅三藐三菩提。於是中無實無虛。是故如來說一切法。皆是佛法。須菩提。所言一切法者。即非一切法。是故名一切法。須菩提。譬如人身長大。須菩提言。世尊。如來說人身長大。即為非大身。是名大身。須菩提。菩薩亦如是。若作是言。我當滅度無量眾生。即不名菩薩。何以故。須菩提。實無有法。名為菩薩。是故佛說一切法。無我無人無眾生無壽者。須菩提。若菩薩作是言。我當莊嚴佛土。是不名菩薩。何以故。如來說莊嚴佛土者。即非莊嚴。是名莊嚴。須菩提。若菩薩通達無我法者。如來說名真是菩薩。須菩提。於意云何。如來有肉眼不。如是。世尊。如來有肉眼。須菩提。於意云何。如來有天眼不。如是。世尊。如來有天眼。須菩提。於意云何。如來有慧眼不。如是。世尊。如來有慧眼。須菩提。於意云何。如來有法眼不。如是。世尊。如來有法眼。須菩提。於意云何。如來有佛眼不。如是。世尊。如來有佛眼。須菩提。於意云何。如恆河中所有沙。佛說是沙不。如是。世尊。如來說是沙。須菩提。於意云何。如一恆河中所有沙。有如是沙等恆河。是諸恆河所有沙數佛世界。如是寧為多不。甚多。世尊。佛告須菩提。爾所國土中。所有眾生。若干種心。如來悉知。何以故。如來說諸心。皆為非心。是名為心。所以者何。須菩提。過去心不可得。現在心不可得。未來心不可得。須菩提。於意云何。若有人滿三千大千世界七寶。以用布施。是人以是因緣。得福多不。如是。世尊。此人以是因緣。得福甚多。須菩提。若福德有實。如來不說得福德多。以福德無故。如來說得福德多。須菩提。於意云何。佛可以具足色身見不。不也。世尊。如來不應以具足色身見。何以故。如來說具足色身。即非具足色身。是名具足色身。須菩提。於意云何。如來可以具足諸相見不。不也。世尊。如來不應以具足諸相見。何以故。如來說諸相具足。即非具足。是名諸相具足。須菩提。汝勿謂如來作是念。我當有所說法。莫作是念。何以故。若人言如來有所說法。即為謗佛。不能解我所說故。須菩提。說法者。無法可說。是名說法。爾時慧命須菩提白佛言。世尊。頗有眾生。於未來世。聞說是法。生信心不。佛言。須菩提。彼非眾生。非不眾生。何以故。須菩提。眾生眾生者。如來說非眾生。是名眾生。須菩提白佛言。世尊。佛得阿耨多羅三藐三菩提。為無所得耶。佛言。如是如是。須菩提。我於阿耨多羅三藐三菩提。乃至無有少法可得。是名阿耨多羅三藐三菩提。復次。須菩提。是法平等。無有高下。是名阿耨多羅三藐三菩提。以無我無人無眾生無壽者。修一切善法。即得阿耨多羅三藐三菩提。須菩提。所言善法者。如來說即非善法。是名善法。須菩提。若三千大千世界中。所有諸須彌山王。如是等七寶聚。有人持用布施。若人以此般若波羅蜜經。乃至四句偈等。受持讀誦。為他人說。於前福德。百分不及一。百千萬億分。乃至算數譬喻所不能及。須菩提。於意云何。汝等勿謂如來作是念。我當度眾生。須菩提。莫作是念。何以故。實無有眾生如來度者。若有眾生如來度者。如來即有我人眾生壽者。須菩提。如來說有我者。即非有我。而凡夫之人以為有我。須菩提。凡夫者。如來說即非凡夫。是名凡夫。須菩提。於意云何。可以三十二相觀如來不。須菩提言。如是如是。以三十二相觀如來。佛言。須菩提。若以三十二相觀如來者。轉輪聖王即是如來。須菩提白佛言。世尊。如我解佛所說義。不應以三十二相觀如來。爾時世尊而說偈言。若以色見我。以音聲求我。是人行邪道。不能見如來。須菩提。汝若作是念。如來不以具足相故。得阿耨多羅三藐三菩提。須菩提。莫作是念。如來不以具足相故。得阿耨多羅三藐三菩提。須菩提。汝若作是念。發阿耨多羅三藐三菩提心者。說諸法斷滅。莫作是念。何以故。發阿耨多羅三藐三菩提心者。於法不說斷滅相。須菩提。若菩薩以滿恆河沙等世界七寶。持用布施。若復有人。知一切法無我。得成於忍。此菩薩勝前菩薩所得功德。何以故。須菩提。以諸菩薩不受福德故。須菩提白佛言。世尊。云何菩薩不受福德。須菩提。菩薩所作福德。不應貪著。是故說不受福德。須菩提。若有人言。如來若來若去。若坐若臥。是人不解我所說義。何以故。如來者。無所從來。亦無所去。故名如來。須菩提。若善男子。善女人。以三千大千世界碎為微塵。於意云何。是微塵眾。寧為多不。須菩提言。甚多。世尊。何以故。若是微塵眾實有者。佛即不說是微塵眾。所以者何。佛說微塵眾。即非微塵眾。是名微塵眾。世尊。如來所說三千大千世界。即非世界。是名世界。何以故。若世界實有者。即是一合相。如來說一合相。即非一合相。是名一合相。須菩提。一合相者。即是不可說。但凡夫之人。貪著其事。須菩提。若人言。佛說我見人見眾生見壽者見。須菩提。於意云何。是人解我所說義不。不也。世尊。是人不解如來所說義。何以故。世尊說我見人見眾生見壽者見。即非我見人見眾生見壽者見。是名我見人見眾生見壽者見。須菩提。發阿耨多羅三藐三菩提心者。於一切法。應如是知。如是見。如是信解。不生法相。須菩提。所言法相者。如來說即非法相。是名法相。須菩提。若有人以滿無量阿僧祇世界七寶。持用布施。若有善男子。善女人。發菩薩心者。持於此經。乃至四句偈等。受持讀誦。為人演說。其福勝彼。云何為人演說。不取於相。如如不動。何以故。一切有為法。如夢幻泡影。如露亦如電。應作如是觀。佛說是經已。長老須菩提。及諸比丘。比丘尼。優婆塞。優婆夷。一切世間天人阿修羅。聞佛所說。皆大歡喜。信受奉行。',
    description: '《金剛經》是佛教大乘教典中，流傳最廣、影響最深遠的經典之一。全文共32品，約5176字，闡述「應無所住而生其心」的般若智慧。'
  },
  {
    title: '藥師琉璃光如來本願功德經',
    translator: '唐·玄奘法師 譯',
    word_count: 5280,
    content_full: '如是我聞。一時薄伽梵。遊化諸國。至廣嚴城。住樂音樹下。與大苾芻眾八千人俱。菩薩摩訶薩三萬六千。及國王大臣。婆羅門。居士。天龍八部。人非人等。無量大眾。恭敬圍繞。而為說法。爾時曼殊室利法王子。承佛威神。從座而起。偏袒一肩。右膝著地。向薄伽梵。曲躬合掌。白言。世尊。惟願演說如是相類諸佛名號。及本大願殊勝功德。令諸聞者業障銷除。為欲利樂像法轉時諸有情故。爾時世尊讚曼殊室利童子言。善哉善哉。曼殊室利。汝以大悲。勸請我說諸佛名號。本願功德。為拔業障所纏有情。利益安樂像法轉時諸有情故。汝今諦聽。極善思惟。當為汝說。曼殊室利言。唯然願說。我等樂聞。佛告曼殊室利。東方去此過十殑伽沙等佛土。有世界名淨琉璃。佛號藥師琉璃光如來。應正等覺。明行圓滿。善逝世間解。無上士。調御丈夫。天人師。佛。薄伽梵。曼殊室利。彼世尊藥師琉璃光如來。本行菩薩道時。發十二大願。令諸有情。所求皆得。第一大願。願我來世。得阿耨多羅三藐三菩提時。自身光明熾然。照耀無量無數無邊世界。以三十二大丈夫相。八十隨形。莊嚴其身。令一切有情。如我無異。第二大願。願我來世。得菩提時。身如琉璃。內外明徹。淨無瑕穢。光明廣大。功德巍巍。身善安住。焰網莊嚴。過於日月。幽冥眾生。悉蒙開曉。隨意所趣。作諸事業。第三大願。願我來世。得菩提時。以無量無邊智慧方便。令諸有情。皆得無盡所受用物。莫令眾生。有所乏少。第四大願。願我來世。得菩提時。若諸有情。行邪道者。悉令安住菩提道中。若行聲聞獨覺乘者。皆以大乘而安立之。第五大願。願我來世。得菩提時。若有無量無邊有情。於我法中。修行梵行。一切皆令得不缺戒。具三聚戒。設有毀犯。聞我名已。還得清淨。不墮惡趣。第六大願。願我來世。得菩提時。若諸有情。其身下劣。諸根不具。醜陋頑愚。盲聾喑啞。攣躄背僂。白癩顛狂。種種病苦。聞我名已。一切皆得端正黠慧。諸根完具。無諸疾苦。第七大願。願我來世。得菩提時。若諸有情。眾病逼切。無救無歸。無醫無藥。無親無家。貧窮多苦。我之名號。一經其耳。眾病悉除。身心安樂。家屬資具。悉皆豐足。乃至證得無上菩提。第八大願。願我來世。得菩提時。若有女人。為女百惡之所逼惱。極生厭離。願捨女身。聞我名已。一切皆得轉女成男。具丈夫相。乃至證得無上菩提。第九大願。願我來世。得菩提時。令諸有情。出魔罥網。解脫一切外道纏縛。若墮種種惡見稠林。皆當引攝置於正見。漸令修習諸菩薩行。速證無上正等菩提。第十大願。願我來世。得菩提時。若諸有情。王法所錄。繩縛鞭撻。繫閉牢獄。或當刑戮。及餘無量災難凌辱。悲愁煎逼。身心受苦。若聞我名。以我福德威神力故。皆得解脫一切憂苦。第十一大願。願我來世。得菩提時。若諸有情。飢渴所惱。為求食故。造諸惡業。得聞我名。專念受持。我當先以上妙飲食。飽足其身。後以法味。畢竟安樂而建立之。第十二大願。願我來世。得菩提時。若諸有情。貧無衣服。蚊虻寒熱。晝夜逼惱。若聞我名。專念受持。如其所好。即得種種上妙衣服。亦得一切寶莊嚴具。華鬘塗香。鼓樂眾伎。隨心所玩。皆令滿足。曼殊室利。是為彼世尊藥師琉璃光如來應正等覺。行菩薩道時。所發十二微妙上願。復次。曼殊室利。彼世尊藥師琉璃光如來。行菩薩道時。所發大願。及彼佛土功德莊嚴。我若一劫。若一劫餘。說不能盡。然彼佛土。一向清淨。無有女人。亦無惡趣。及苦音聲。琉璃為地。金繩界道。城闕宮閣。軒窗羅網。皆七寶成。亦如西方極樂世界。功德莊嚴。等無差別。於其國中。有二菩薩摩訶薩。一名日光遍照。二名月光遍照。是彼無量無數菩薩眾之上首。次補佛處。悉能持彼世尊藥師琉璃光如來。正法寶藏。是故曼殊室利。諸有信心善男子善女人。應當願生彼佛世界。爾時世尊。復告曼殊室利童子言。曼殊室利。有諸眾生。不識善惡。惟懷貪吝。不知布施及施果報。愚癡無智。闕於信根。多聚財寶。勤加守護。見乞者來。其心不喜。設不獲已而行施時。如割身肉。深生痛惜。復有無量慳貪有情。積集資財。於其自身。尚不受用。何況能與父母妻子奴婢作使。及來乞者。彼諸有情。從此命終。生餓鬼界。或傍生趣。由昔人間。曾得暫聞藥師琉璃光如來名故。今在惡趣。暫得憶念彼如來名。即於念時。從彼處沒。還生人中。得宿命念。畏惡趣苦。不樂欲樂。好行惠施。讚歎施者。一切所有。悉無貪惜。漸次尚能以頭目手足。血肉身分。施來求者。況餘財物。復次。曼殊室利。若諸有情。雖於如來受諸學處。而破尸羅。有雖不破尸羅。而破軌則。有於尸羅軌則。雖得不壞。然毀正見。有雖不毀正見。而棄多聞。於佛所說契經深義。不能解了。有雖多聞。而增上慢。由增上慢。覆蔽心故。自是非他。嫌謗正法。為魔伴黨。如是愚人。自行邪見。復令無量俱胝有情。墮大險坑。此諸有情。應於地獄傍生鬼趣。流轉無窮。若得聞此藥師琉璃光如來名號。便捨惡行。修諸善法。不墮惡趣。設有不能捨諸惡行。修行善法。墮惡趣者。以彼如來本願威力。令其現前暫聞名號。從彼命終。還生人趣。得正見精進。善調意樂。便能捨家。趣於非家。如來法中。受持學處。無有毀犯。正見多聞。解甚深義。離增上慢。不謗正法。不為魔伴。漸次修行諸菩薩行。速得圓滿。復次。曼殊室利。若諸有情。慳貪嫉妒。自讚毀他。當墮三惡趣中。無量千歲。受諸劇苦。受劇苦已。從彼命終。來生人間。作牛馬駝驢。恒被鞭撻。飢渴逼惱。又常負重。隨路而行。或得為人。生居下賤。作人奴婢。受他驅役。恒不自在。若昔人中。曾聞世尊藥師琉璃光如來名號。由此善因。今復憶念。至心歸依。以佛神力。眾苦解脫。諸根聰利。智慧多聞。恒求勝法。常遇善友。永斷魔罥。破無明殼。竭煩惱河。解脫一切生老病死。憂悲苦惱。復次。曼殊室利。若諸有情。好喜乖離。更相鬥訟。惱亂自他。以身語意。造作增長種種惡業。展轉常為不饒益事。互相謀害。告召山林樹塚等神。殺諸眾生。取其血肉。祭祀藥叉羅剎婆等。書怨人名。作其形像。以惡咒術而咒詛之。厭魅蠱道。咒起屍鬼。令斷彼命。及壞其身。是諸有情。若得聞此藥師琉璃光如來名號。彼諸惡事。悉不能害。一切展轉皆起慈心。利益安樂。無損惱意。及嫌恨心。各各歡悅。於自所受。生於喜足。不相侵凌。互為饒益。復次。曼殊室利。若有四眾。苾芻。苾芻尼。鄔波索迦。鄔波斯迦。及餘淨信善男子善女人等。有能受持八分齋戒。或經一年。或復三月。受持學處。以此善根。願生西方極樂世界無量壽佛所。聽聞正法。而未定者。若聞世尊藥師琉璃光如來名號。臨命終時。有八菩薩。乘神通來。示其道路。即於彼界。種種雜色眾寶華中。自然化生。或有因此生於天上。雖生天上。而本善根亦未窮盡。不復更生諸餘惡趣。天上壽盡。還生人間。或為輪王。統攝四洲。威德自在。安立無量百千有情。於十善道。或生剎帝利。婆羅門。居士大家。多饒財寶。倉庫盈溢。形相端嚴。眷屬具足。聰明智慧。勇健威猛。如大力士。若是女人。得聞世尊藥師琉璃光如來名號。至心受持。於後不復更受女身。復次。曼殊室利。彼藥師琉璃光如來。得菩提時。由本願力。觀諸有情。遇眾病苦。瘦瘧乾消。黃熱等病。或被厭魅蠱毒所中。或復短命。或時橫死。欲令是等病苦消除。所求願滿。時彼世尊。入三摩地。名曰除滅一切眾生苦惱。既入定已。於肉髻中。出大光明。光中演說大陀羅尼曰。那謨薄伽筏帝。裨殺社窶嚕。薛琉璃缽剌婆喝囉闍也。怛陀揭多耶。阿囉喝帝。三藐三勃陀耶。怛姪他。唵。鞅殺逝。鞅殺逝。鞅殺社。三沒揭帝莎訶。爾時光中說此咒已。大地震動。放大光明。一切眾生。病苦皆除。受安隱樂。曼殊室利。若見男子女人。有病苦者。應當一心。為彼病人。常清淨澡漱。或食或藥。或無蟲水。咒一百八遍。與彼服食。所有病苦。悉皆消滅。若有所求。至心念誦。皆得如是。無病延年。命終之後。生彼世界。得不退轉。乃至菩提。是故曼殊室利。若有男子女人。於彼藥師琉璃光如來。至心殷重。恭敬供養者。常持此咒。勿令廢忘。復次。曼殊室利。若有淨信男子女人。得聞藥師琉璃光如來。應正等覺。所有名號。聞已誦持。晨嚼齒木。澡漱清淨。以諸香華。燒香塗香。作眾伎樂。供養形像。於此經典。若自書。若教人書。一心受持。聽聞其義。於彼法師。應修供養。一切所有資身之具。悉皆施與。勿令乏少。如是便蒙諸佛護念。所求願滿。乃至菩提。爾時曼殊室利童子白佛言。世尊。我當誓於像法轉時。以種種方便。令諸淨信善男子善女人等。得聞世尊藥師琉璃光如來名號。乃至睡中。亦以佛名覺悟其耳。世尊。若於此經。受持讀誦。或復為他演說開示。若自書。若教人書。恭敬尊重。以種種華香。塗香末香。燒香華鬘。瓔珞幡蓋。伎樂而為供養。以五色綵。作囊盛之。掃灑淨處。敷設高座而用安處。爾時四大天王。與其眷屬。及餘無量百千天眾。皆詣其所。供養守護。世尊。若此經寶流行之處。有能受持。以彼世尊藥師琉璃光如來本願功德。及聞名號。當知是處。無復橫死。亦復不為諸惡鬼神奪其精氣。設已奪者。還得如故。身心安樂。佛言。如是如是。如汝所說。曼殊室利。若有淨信善男子善女人等。欲供養彼世尊藥師琉璃光如來者。應先造立彼佛形像。敷清淨座而安處之。散種種華。燒種種香。以種種幢幡。莊嚴其處。七日七夜。受持八分齋戒。食清淨食。澡浴香潔。著新淨衣。應生無垢濁心。無怒害心。於一切有情。起利益安樂。慈悲喜捨平等之心。鼓樂歌讚。右繞佛像。復應念彼如來本願功德。讀誦此經。思惟其義。演說開示。隨所樂願。一切皆遂。求長壽得長壽。求富饒得富饒。求官位得官位。求男女得男女。若復有人。忽得惡夢。見諸惡相。或怪鳥來集。或於住處。百怪出現。此人若以眾妙資具。恭敬供養彼世尊藥師琉璃光如來者。惡夢惡相。諸不吉祥。皆悉隱沒。不能為患。或有水火刀毒。懸險惡象。師子虎狼。熊羆毒蛇。惡蠍蜈蚣。蚰蜒蚊虻等怖。若能至心憶念彼佛。恭敬供養。一切怖畏。皆得解脫。若他國侵擾。盜賊反亂。憶念恭敬彼如來者。亦皆解脫。復次。曼殊室利。若有淨信善男子善女人等。乃至盡形。不事餘天。惟當一心歸佛法僧。受持禁戒。若五戒十戒。菩薩四百戒。苾芻二百五十戒。苾芻尼五百戒。於所受中。或有毀犯。怖墮惡趣。若能專念彼佛名號。恭敬供養者。必定不受三惡趣生。或有女人。臨當產時。受於極苦。若能至心稱名禮讚。恭敬供養彼如來者。眾苦皆除。所生之子。身分具足。形色端正。見者歡喜。利根聰明。安隱少病。無有非人奪其精氣。爾時世尊告阿難言。如我稱揚彼佛世尊藥師琉璃光如來所有功德。此是諸佛甚深行處。難可解了。汝為信不。阿難白言。大德世尊。我於如來所說契經。不生疑惑。所以者何。一切如來身語意業。無不清淨。世尊。此日月輪。可令墮落。妙高山王。可使傾動。諸佛所言。無有異也。世尊。有諸眾生。信根不具。聞說諸佛甚深行處。作是思惟。云何但念藥師琉璃光如來一佛名號。便獲爾所功德勝利。由此不信。返生誹謗。彼於長夜。失大利樂。墮諸惡趣。流轉無窮。佛告阿難。是諸有情。若聞世尊藥師琉璃光如來名號。至心受持。不生疑惑。墮惡趣者。無有是處。阿難。此是諸佛甚深所行。難可信解。汝今能受。當知皆是如來威力。阿難。一切聲聞獨覺。及未登地諸菩薩等。皆悉不能如實信解。惟除一生所繫菩薩。阿難。人身難得。於三寶中。信敬尊重。亦難可得。得聞世尊藥師琉璃光如來名號。復難於是。阿難。彼藥師琉璃光如來。無量菩薩行。無量善巧方便。無量廣大願。我若一劫。若一劫餘。而廣說者。劫可速盡。彼佛行願。善巧方便。無有盡也。爾時眾中。有一菩薩摩訶薩。名曰救脫。即從座起。偏袒右肩。右膝著地。曲躬合掌。而白佛言。大德世尊。像法轉時。有諸眾生。為種種患之所困厄。長病羸瘦。不能飲食。喉脣乾燥。見諸方暗。死相現前。父母親屬。朋友知識。啼泣圍繞。然彼自身。臥在本處。見琰魔使。引其神識。至於琰魔法王之前。然諸有情。有俱生神。隨其所作。若罪若福。皆具書之。盡持授與琰魔法王。爾時彼王。推問其人。算計所作。隨其罪福而處斷之。時彼病人。親屬知識。若能為彼歸依世尊藥師琉璃光如來。請諸眾僧。轉讀此經。燃七層之燈。懸五色續命神幡。或有是處。彼識得還。如在夢中。明了自見。或經七日。或二十一日。或三十五日。或四十九日。彼識還時。如從夢覺。皆自憶知善不善業。所得果報。由自證見。業果報故。乃至命難。亦不造作諸惡之業。是故淨信善男子善女人等。皆應受持藥師琉璃光如來名號。隨力所能。恭敬供養。爾時阿難問救脫菩薩曰。善男子。應云何恭敬供養彼世尊藥師琉璃光如來。續命幡燈。復云何造。救脫菩薩言。大德。若有病人。欲脫病苦。當為其人。七日七夜。受持八分齋戒。應以飲食。及餘資具。隨力所辦。供養苾芻僧。晝夜六時。禮拜供養彼世尊藥師琉璃光如來。讀誦此經四十九遍。燃四十九燈。造彼如來形像七軀。一一像前。各置七燈。一一燈量。大如車輪。乃至四十九日。光明不絕。造五色綵幡。長四十九搩手。應放雜類眾生。至四十九。可得過度危厄之難。不為諸橫惡鬼所持。復次。阿難。若剎帝利灌頂王等。災難起時。所謂人眾疾疫難。他國侵逼難。自界叛逆難。星宿變怪難。日月薄蝕難。非時風雨難。過時不雨難。彼剎帝利灌頂王等。爾時應於一切有情。起慈悲心。赦諸繫閉。依前所說供養之法。供養彼世尊藥師琉璃光如來。由此善根。及彼如來本願力故。令其國界。即得安隱。風雨順時。穀稼成熟。一切有情。無病歡樂。於其國中。無有暴惡。藥叉等神。惱有情者。一切惡相。皆即隱沒。而剎帝利灌頂王等。壽命色力。無病自在。皆得增益。阿難。若帝后妃主。儲君王子。大臣輔相。中宮綵女。百官黎庶。為病所苦。及餘厄難。亦應造立五色神幡。燃燈續明。放諸生命。散雜色華。燒眾名香。病得除愈。眾難解脫。爾時阿難問救脫菩薩言。善男子。云何已盡之命。而可增益。救脫菩薩言。大德。汝豈不聞如來說有九橫死耶。是故勸造續命幡燈。修諸福德。以修福故。盡其壽命。不經苦患。阿難問言。九橫云何。救脫菩薩言。有諸有情。得病雖輕。然無醫藥。及看病者。設復遇醫。授以非藥。實不應死。而便橫死。又信世間邪魔外道。妖孽之師。妄說禍福。便生恐動。心不自正。卜問覓禍。殺種種眾生。解奏神明。呼諸魍魎。請乞福祐。欲冀延年。終不能得。愚癡迷惑。信邪倒見。遂令橫死。入於地獄。無有出期。是名初橫。二者橫被王法之所誅戮。三者畋獵嬉戲。耽婬嗜酒。放逸無度。橫為非人奪其精氣。四者橫為火焚。五者橫為水溺。六者橫為種種惡獸所噉。七者橫墮山崖。八者橫為毒藥。厭禱咒詛。起屍鬼等之所中害。九者飢渴所困。不得飲食。而便橫死。是為如來略說橫死。有此九種。其餘復有無量諸橫。難可具說。復次。阿難。彼琰魔王。主領世間名籍之記。若諸有情。不孝五逆。破辱三寶。壞君臣法。毀於性戒。琰魔法王。隨罪輕重。考而罰之。是故我今勸諸有情。燃燈造幡。放生修福。令度苦厄。不遭眾難。爾時眾中。有十二藥叉大將。俱在會坐。所謂宮毘羅大將。跋折羅大將。迷企羅大將。安底羅大將。頞你羅大將。珊底羅大將。因達羅大將。波夷羅大將。摩虎羅大將。真達羅大將。招杜羅大將。毘羯羅大將。此十二藥叉大將。一一各有七千藥叉。以為眷屬。同時舉聲白佛言。世尊。我等今者。蒙佛威力。得聞世尊藥師琉璃光如來名號。不復更有惡趣之怖。我等相率。皆同一心。乃至盡形。歸佛法僧。誓當荷負一切有情。為作義利。饒益安樂。隨於何等村城國邑。空閑林中。若有流布此經。或復受持藥師琉璃光如來名號。恭敬供養者。我等眷屬。衛護是人。皆使解脫一切苦難。諸有願求。悉令滿足。或有疾厄。求度脫者。亦應讀誦此經。以五色縷。結我名字。得如願已。然後解結。爾時世尊讚諸藥叉大將言。善哉善哉。大藥叉將。汝等念報世尊藥師琉璃光如來恩德者。常應如是利益安樂一切有情。爾時阿難白佛言。世尊。當何名此法門。我等云何奉持。佛告阿難。此法門名說藥師琉璃光如來本願功德。亦名說十二神將饒益有情結願神咒。亦名拔除一切業障。應如是持。時薄伽梵說是語已。諸菩薩摩訶薩。及大聲聞。國王大臣。婆羅門居士。天龍藥叉。健達縛。阿蘇羅。揭路荼。緊捺洛。莫呼洛伽。人非人等。一切大眾。聞佛所說。皆大歡喜。信受奉行。',
    description: '《藥師經》詳述藥師佛十二大願，利益現世眾生，消災延壽，滿眾生願。'
  },
  {
    title: '佛說阿彌陀經',
    translator: '姚秦·鳩摩羅什 譯',
    word_count: 1858,
    content_full: '如是我聞。一時佛在舍衛國。祇樹給孤獨園。與大比丘僧。千二百五十人俱。皆是大阿羅漢。眾所知識。長老舍利弗。摩訶目犍連。摩訶迦葉。摩訶迦栴延。摩訶拘絺羅。離婆多。周利槃陀伽。難陀。阿難陀。羅睺羅。憍梵波提。賓頭盧頗羅墮。迦留陀夷。摩訶劫賓那。薄拘羅。阿菟樓馱。如是等諸大弟子。並諸菩薩摩訶薩。文殊師利法王子。阿逸多菩薩。乾陀訶提菩薩。常精進菩薩。與如是等諸大菩薩。及釋提桓因等。無量諸天大眾俱。爾時佛告長老舍利弗。從是西方。過十萬億佛土。有世界名曰極樂。其土有佛。號阿彌陀。今現在說法。舍利弗。彼土何故名為極樂。其國眾生。無有眾苦。但受諸樂。故名極樂。又舍利弗。極樂國土。七重欄楯。七重羅網。七重行樹。皆是四寶。周匝圍繞。是故彼國。名為極樂。又舍利弗。極樂國土。有七寶池。八功德水。充滿其中。池底純以金沙布地。四邊階道。金銀琉璃。玻璃合成。上有樓閣。亦以金銀琉璃。玻璃硨磲。赤珠瑪瑙。而嚴飾之。池中蓮華。大如車輪。青色青光。黃色黃光。赤色赤光。白色白光。微妙香潔。舍利弗。極樂國土。成就如是功德莊嚴。又舍利弗。彼佛國土。常作天樂。黃金為地。晝夜六時。雨天曼陀羅華。其土眾生。常以清旦。各以衣裓。盛眾妙華。供養他方十萬億佛。即以食時。還到本國。飯食經行。舍利弗。極樂國土。成就如是功德莊嚴。復次舍利弗。彼國常有種種奇妙雜色之鳥。白鶴孔雀。鸚鵡舍利。迦陵頻伽。共命之鳥。是諸眾鳥。晝夜六時。出和雅音。其音演暢。五根五力。七菩提分。八聖道分。如是等法。其土眾生。聞是音已。皆悉念佛念法念僧。舍利弗。汝勿謂此鳥。實是罪報所生。所以者何。彼佛國土。無三惡道。舍利弗。其佛國土。尚無惡道之名。何況有實。是諸眾鳥。皆是阿彌陀佛。欲令法音宣流。變化所作。舍利弗。彼佛國土。微風吹動。諸寶行樹。及寶羅網。出微妙音。譬如百千種樂。同時俱作。聞是音者。自然皆生念佛念法念僧之心。舍利弗。其佛國土。成就如是功德莊嚴。舍利弗。於汝意云何。彼佛何故號阿彌陀。舍利弗。彼佛光明無量。照十方國。無所障礙。是故號為阿彌陀。又舍利弗。彼佛壽命。及其人民。無量無邊阿僧祇劫。故名阿彌陀。舍利弗。阿彌陀佛。成佛已來。於今十劫。又舍利弗。彼佛有無量無邊聲聞弟子。皆阿羅漢。非是算數之所能知。諸菩薩眾。亦復如是。舍利弗。彼佛國土。成就如是功德莊嚴。又舍利弗。極樂國土。眾生生者。皆是阿鞞跋致。其中多有一生補處。其數甚多。非是算數所能知之。但可以無量無邊阿僧祇說。舍利弗。眾生聞者。應當發願。願生彼國。所以者何。得與如是諸上善人。俱會一處。舍利弗。不可以少善根福德因緣。得生彼國。舍利弗。若有善男子善女人。聞說阿彌陀佛。執持名號。若一日。若二日。若三日。若四日。若五日。若六日。若七日。一心不亂。其人臨命終時。阿彌陀佛。與諸聖眾。現在其前。是人終時。心不顛倒。即得往生阿彌陀佛極樂國土。舍利弗。我見是利。故說此言。若有眾生。聞是說者。應當發願。生彼國土。舍利弗。如我今者。讚歎阿彌陀佛。不可思議功德之利。東方亦有阿閦鞞佛。須彌相佛。大須彌佛。須彌光佛。妙音佛。如是等恆河沙數諸佛。各於其國。出廣長舌相。遍覆三千大千世界。說誠實言。汝等眾生。當信是稱讚不可思議功德。一切諸佛所護念經。舍利弗。南方世界。有日月燈佛。名聞光佛。大焰肩佛。須彌燈佛。無量精進佛。如是等恆河沙數諸佛。各於其國。出廣長舌相。遍覆三千大千世界。說誠實言。汝等眾生。當信是稱讚不可思議功德。一切諸佛所護念經。舍利弗。西方世界。有無量壽佛。無量相佛。無量幢佛。大光佛。大明佛。寶相佛。淨光佛。如是等恆河沙數諸佛。各於其國。出廣長舌相。遍覆三千大千世界。說誠實言。汝等眾生。當信是稱讚不可思議功德。一切諸佛所護念經。舍利弗。北方世界。有焰肩佛。最勝音佛。難沮佛。日生佛。網明佛。如是等恆河沙數諸佛。各於其國。出廣長舌相。遍覆三千大千世界。說誠實言。汝等眾生。當信是稱讚不可思議功德。一切諸佛所護念經。舍利弗。下方世界。有師子佛。名聞佛。名光佛。達摩佛。法幢佛。持法佛。如是等恆河沙數諸佛。各於其國。出廣長舌相。遍覆三千大千世界。說誠實言。汝等眾生。當信是稱讚不可思議功德。一切諸佛所護念經。舍利弗。上方世界。有梵音佛。宿王佛。香上佛。香光佛。大焰肩佛。雜色寶華嚴身佛。娑羅樹王佛。寶華德佛。見一切義佛。如須彌山佛。如是等恆河沙數諸佛。各於其國。出廣長舌相。遍覆三千大千世界。說誠實言。汝等眾生。當信是稱讚不可思議功德。一切諸佛所護念經。舍利弗。於汝意云何。何故名為一切諸佛所護念經。舍利弗。若有善男子善女人。聞是經受持者。及聞諸佛名者。是諸善男子善女人。皆為一切諸佛之所護念。皆得不退轉於阿耨多羅三藐三菩提。是故舍利弗。汝等皆當信受我語。及諸佛所說。舍利弗。若有人已發願。今發願。當發願。欲生阿彌陀佛國者。是諸人等。皆得不退轉於阿耨多羅三藐三菩提。於彼國土。若已生。若今生。若當生。是故舍利弗。諸善男子善女人。若有信者。應當發願。生彼國土。舍利弗。如我今者。稱讚諸佛不可思議功德。彼諸佛等。亦稱讚我不可思議功德。而作是言。釋迦牟尼佛。能為甚難希有之事。能於娑婆國土。五濁惡世。劫濁見濁煩惱濁眾生濁命濁中。得阿耨多羅三藐三菩提。為諸眾生。說是一切世間難信之法。舍利弗。當知我於五濁惡世。行此難事。得阿耨多羅三藐三菩提。為一切世間說此難信之法。是為甚難。佛說此經已。舍利弗。及諸比丘。一切世間天人阿修羅等。聞佛所說。歡喜信受。作禮而去。',
    description: '《阿彌陀經》描述西方極樂世界依正莊嚴，勸導眾生發願往生，持名念佛。'
  },
  {
    title: '觀世音菩薩普門品',
    translator: '姚秦·鳩摩羅什 譯',
    word_count: 2450,
    content_full: '爾時無盡意菩薩。即從座起。偏袒右肩。合掌向佛。而作是言。世尊。觀世音菩薩。以何因緣。名觀世音。佛告無盡意菩薩。善男子。若有無量百千萬億眾生。受諸苦惱。聞是觀世音菩薩。一心稱名。觀世音菩薩即時觀其音聲。皆得解脫。若有持是觀世音菩薩名者。設入大火。火不能燒。由是菩薩威神力故。若為大水所漂。稱其名號。即得淺處。若有百千萬億眾生。為求金銀琉璃。硨磲瑪瑙。珊瑚琥珀。真珠等寶。入於大海。假使黑風吹其船舫。飄墮羅剎鬼國。其中若有乃至一人。稱觀世音菩薩名者。是諸人等。皆得解脫羅剎之難。以是因緣。名觀世音。若復有人。臨當被害。稱觀世音菩薩名者。彼所執刀杖。尋段段壞。而得解脫。若三千大千國土。滿中夜叉羅剎。欲來惱人。聞其稱觀世音菩薩名者。是諸惡鬼。尚不能以惡眼視之。況復加害。設復有人。若有罪。若無罪。杻械枷鎖。檢繫其身。稱觀世音菩薩名者。皆悉斷壞。即得解脫。若三千大千國土。滿中怨賊。有一商主。將諸商人。齎持重寶。經過險路。其中一人。作是唱言。諸善男子。勿得恐怖。汝等應當一心稱觀世音菩薩名號。是菩薩能以無畏施於眾生。汝等若稱名者。於此怨賊。當得解脫。眾商人聞。俱發聲言。南無觀世音菩薩。稱其名故。即得解脫。無盡意。觀世音菩薩摩訶薩。威神之力。巍巍如是。若有眾生。多於婬欲。常念恭敬觀世音菩薩。便得離欲。若多瞋恚。常念恭敬觀世音菩薩。便得離瞋。若多愚癡。常念恭敬觀世音菩薩。便得離癡。無盡意。觀世音菩薩。有如是等大威神力。多所饒益。是故眾生。常應心念。若有女人。設欲求男。禮拜供養觀世音菩薩。便生福德智慧之男。設欲求女。便生端正有相之女。宿植德本。眾人愛敬。無盡意。觀世音菩薩有如是力。若有眾生。恭敬禮拜觀世音菩薩。福不唐捐。是故眾生。皆應受持觀世音菩薩名號。無盡意。若有人受持六十二億恆河沙菩薩名字。復盡形供養飲食衣服臥具醫藥。於汝意云何。是善男子善女人。功德多不。無盡意言。甚多世尊。佛言。若復有人受持觀世音菩薩名號。乃至一時禮拜供養。是二人福。正等無異。於百千萬億劫。不可窮盡。無盡意。受持觀世音菩薩名號。得如是無量無邊福德之利。無盡意菩薩白佛言。世尊。觀世音菩薩。云何遊此娑婆世界。云何而為眾生說法。方便之力。其事云何。佛告無盡意菩薩。善男子。若有國土眾生。應以佛身得度者。觀世音菩薩即現佛身而為說法。應以辟支佛身得度者。即現辟支佛身而為說法。應以聲聞身得度者。即現聲聞身而為說法。應以梵王身得度者。即現梵王身而為說法。應以帝釋身得度者。即現帝釋身而為說法。應以自在天身得度者。即現自在天身而為說法。應以大自在天身得度者。即現大自在天身而為說法。應以天大將軍身得度者。即現天大將軍身而為說法。應以毘沙門身得度者。即現毘沙門身而為說法。應以小王身得度者。即現小王身而為說法。應以長者身得度者。即現長者身而為說法。應以居士身得度者。即現居士身而為說法。應以宰官身得度者。即現宰官身而為說法。應以婆羅門身得度者。即現婆羅門身而為說法。應以比丘。比丘尼。優婆塞。優婆夷身得度者。即現比丘。比丘尼。優婆塞。優婆夷身而為說法。應以長者。居士。宰官。婆羅門婦女身得度者。即現婦女身而為說法。應以童男童女身得度者。即現童男童女身而為說法。應以天。龍。夜叉。乾闥婆。阿修羅。迦樓羅。緊那羅。摩睺羅伽。人非人等身得度者。即皆現之而為說法。應以執金剛神得度者。即現執金剛神而為說法。無盡意。是觀世音菩薩。成就如是功德。以種種形。遊諸國土。度脫眾生。是故汝等。應當一心供養觀世音菩薩。是觀世音菩薩摩訶薩。於怖畏急難之中。能施無畏。是故此娑婆世界。皆號之為施無畏者。無盡意菩薩白佛言。世尊。我今當供養觀世音菩薩。即解頸眾寶珠瓔珞。價值百千兩金。而以與之。作是言。仁者。受此法施。珍寶瓔珞。時觀世音菩薩。不肯受之。無盡意復白觀世音菩薩言。仁者。愍我等故。受此瓔珞。爾時佛告觀世音菩薩。當愍此無盡意菩薩。及四眾天龍夜叉乾闥婆阿修羅迦樓羅緊那羅摩睺羅伽人非人等故。受是瓔珞。即時觀世音菩薩。愍諸四眾。及於天龍人非人等。受其瓔珞。分作二分。一分奉釋迦牟尼佛。一分奉多寶佛塔。無盡意。觀世音菩薩。有如是自在神力。遊於娑婆世界。爾時無盡意菩薩。以偈問曰。世尊妙相具。我今重問彼。佛子何因緣。名為觀世音。具足妙相尊。偈答無盡意。汝聽觀音行。善應諸方所。弘誓深如海。歷劫不思議。侍多千億佛。發大清淨願。我為汝略說。聞名及見身。心念不空過。能滅諸有苦。假使興害意。推落大火坑。念彼觀音力。火坑變成池。或漂流巨海。龍魚諸鬼難。念彼觀音力。波浪不能沒。或在須彌峰。為人所推墮。念彼觀音力。如日虛空住。或被惡人逐。墮落金剛山。念彼觀音力。不能損一毛。或值怨賊繞。各執刀加害。念彼觀音力。咸即起慈心。或遭王難苦。臨刑欲壽終。念彼觀音力。刀尋段段壞。或囚禁枷鎖。手足被杻械。念彼觀音力。釋然得解脫。咒詛諸毒藥。所欲害身者。念彼觀音力。還著於本人。或遇惡羅剎。毒龍諸鬼等。念彼觀音力。時悉不敢害。若惡獸圍繞。利牙爪可怖。念彼觀音力。疾走無邊方。蚖蛇及蝮蝎。氣毒煙火然。念彼觀音力。尋聲自迴去。雲雷鼓掣電。降雹澍大雨。念彼觀音力。應時得消散。眾生被困厄。無量苦逼身。觀音妙智力。能救世間苦。具足神通力。廣修智方便。十方諸國土。無剎不現身。種種諸惡趣。地獄鬼畜生。生老病死苦。以漸悉令滅。真觀清淨觀。廣大智慧觀。悲觀及慈觀。常願常瞻仰。無垢清淨光。慧日破諸闇。能伏災風火。普明照世間。悲體戒雷震。慈意妙大雲。澍甘露法雨。滅除煩惱焰。諍訟經官處。怖畏軍陣中。念彼觀音力。眾怨悉退散。妙音觀世音。梵音海潮音。勝彼世間音。是故須常念。念念勿生疑。觀世音淨聖。於苦惱死厄。能為作依怙。具一切功德。慈眼視眾生。福聚海無量。是故應頂禮。爾時持地菩薩。即從座起。前白佛言。世尊。若有眾生。聞是觀世音菩薩品。自在之業。普門示現神通力者。當知是人功德不少。佛說是普門品時。眾中八萬四千眾生。皆發無等等阿耨多羅三藐三菩提心。',
    description: '《普門品》是《法華經》中的一品，敘述觀世音菩薩救七難、解三毒、應二求，普門示現、度化眾生的功德。'
  }
];

interface SutraDB extends DBSchema {
  sutras: {
    key: number;
    value: Sutra;
    indexes: {
      'by-title': string;
    };
  };
}

class Database {
  private db: IDBPDatabase<SutraDB> | null = null;

  async init() {
    // Open the database with version 2 to force upgrade if needed
    this.db = await openDB<SutraDB>('sutra-db', 2, {
      upgrade(db, oldVersion, newVersion, transaction) {
        console.log('Upgrading database from version', oldVersion, 'to', newVersion);
        
        // If upgrading from version 1 to 2, delete the old store and recreate
        if (oldVersion < 2) {
          // Delete existing store if it exists
          if (db.objectStoreNames.contains('sutras')) {
            db.deleteObjectStore('sutras');
          }
          
          // Create fresh store
          const store = db.createObjectStore('sutras', { 
            keyPath: 'id', 
            autoIncrement: true 
          });
          store.createIndex('by-title', 'title');
          
          // Seed data once during upgrade
          for (const sutra of INITIAL_SUTRAS) {
            store.add(sutra as Sutra);
          }
          console.log('Database reset and seeded with fresh data (no duplicates)');
        }
      },
    });

    // Log the count to verify
    const count = await this.db.count('sutras');
    console.log('Current sutras count:', count);
    
    return this.db;
  }

  async getAllSutras(): Promise<Sutra[]> {
    if (!this.db) throw new Error('Database not initialized');
    return this.db.getAll('sutras');
  }

  async getSutra(id: number): Promise<Sutra | undefined> {
    if (!this.db) throw new Error('Database not initialized');
    return this.db.get('sutras', id);
  }
}

export const db = new Database();
